package org.course.management.service.impl;import org.course.management.entity.Role;import org.course.management.entity.User;import org.course.management.repository.RoleRepository;import org.course.management.repository.UserRepository;import org.course.management.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;import java.util.Optional;@Servicepublic class UserServiceImpl implements UserService {    @Autowired    private UserRepository userRepository;    @Autowired    private RoleRepository roleRepository;    public User doSaveUser(User user) {        Role defaultRole = roleRepository.findById(2)                .orElseThrow(() -> new RuntimeException("Không tìm thấy role"));        user.setRole(defaultRole);        return userRepository.saveAndFlush(user);    }    @Override    public User updateUser(int userId, User updatedUser) {        return userRepository.saveAndFlush(updatedUser);    }    @Override    public void doDeleteUserById(int userId) {        userRepository.deleteById(userId);    }    @Override    public Optional<User> findByUserId(int userId) {        return Optional.ofNullable(userRepository.findById(userId));    }    @Override    public List<User> findAllUser() {        return userRepository.findAll();    }    @Override    public User findByUsername(String username) {        return userRepository.findByUsername(username);    }    public boolean verifyPassword(String rawPassword, String encodedPassword) {        return rawPassword.equals(encodedPassword);    }}